## Установка

Инструкции по настройке смотрите на странице документации Fabric
, соответствующей вашей среде разработки (IDE).

## Интеграция с last.fm

Этот мод запускает небольшой локальный HTTP-сервер по адресу http://127.0.0.1:18080, чтобы принимать данные о текущем воспроизведении из браузера, и добавляет команду Minecraft /nowplay для отображения текущего трека в чате.

### Интеграция
last.fm:
- YouTube
- YouTube Music
- Spotify
- SoundCloud
- Deezer
- Sonos
- BandCamp

### Команды
Если сервер с модом:
- `/nowplay` — отправляет текущий трек в чат
- `/nowplay g` — отправляет в чат `!<сообщение>` (для глобальных чатов)
- `/nowplay lastfm <username>` — меняет ник Last.fm (для исполнившего игрока локально на сервере; из консоли — глобально)
- `/nowplay lastfm api <key>` — устанавливает Last.fm API ключ (глобально на сервере)

Клиентские (работают везде, даже на публичных серверах без мода):
- `/nowplay` и алиас `/np` — отправляет текущий трек в чат от имени игрока
- `/nowplay g` и `/np g` — отправляет `!<сообщение>`
- `/nowplay lastfm <username>` — меняет ник Last.fm локально у клиента
- `/nowplay lastfm api <key>` — сохраняет API ключ локально у клиента

Примечание: если сервер и клиент оба с модом — доступны обе группы команд.

### Где хранится конфигурация
- Глобальный конфиг: `config/youtube-music-nowplaying.properties`
  - Ключи: `lastfm_username`, `lastfm_api_key`
- Персональный конфиг игрока (на сервере): `config/youtube-music-nowplaying/players/<UUID>.properties`
  - Ключи: `lastfm_username`

### Версии
- Цель: Minecraft `1.21.6`, Fabric API `0.127.0+1.21.6`

- Сервер: положите собранный jar мода и Fabric API в `mods/` сервера, запустите сервер. На старте поднимется локальный HTTP-сервер и Last.fm-поллер.

### Сценарии использования
- Только клиент с модом, сервер без мода: используйте клиентские команды `/nowplay` или `/nowplay g` — сообщение уйдет в общий чат как обычное сообщение игрока.
- Сервер с модом: используйте серверные команды. Эндпоинт `http://127.0.0.1:18080` и опрос Last.fm поднимаются на стороне сервера.

```javascript
